package compenny4860.github.tensorflowliteexample;

import android.app.Activity;
import android.graphics.Bitmap;
import android.util.Log;
import java.io.IOException;
import org.tensorflow.contrib.android.TensorFlowInferenceInterface;

public class StyleTransfer {

    private TensorFlowInferenceInterface encoderInterface;
    private TensorFlowInferenceInterface decoderInterface;

    private static final String MODEL_FILE = "encoder_opt.pb";

    private static final String INPUT_NODE = "input";
    private static final String STYLE_NODE = "style_num";
    private static final String OUTPUT_NODE = "output/Relu";
    public static final int NUM_STYLES = 26;

    //    private static final int desiredSize = 256;
//
//    private final float[] styleVals = new float[NUM_STYLES];
    private int[] intValues;
    private float[] floatValues;

    private static final String TAG = "StyleTransferDemo";

    StyleTransfer(Activity activity, Bitmap bitmap) throws IOException {
        Log.d(TAG, "Constructor");
        encoderInterface = new TensorFlowInferenceInterface(activity.getAssets(), MODEL_FILE);
        decoderInterface = new TensorFlowInferenceInterface(activity.getAssets(), "decoder_opt.pb");
        setSize(256);
        testPorting(bitmap);
        Log.d(TAG, "Test Porting is done");
    }

    private void testPorting(Bitmap bitmap)
    {
        final int inputSize = 32;
        final int featSize = inputSize / 8;

        float[] inputValues = {116.8125f, 173.8125f, 228.8125f, 120.78125f, 176.78125f, 227.78125f, 128.80469f, 180.67969f, 228.55469f, 127.09375f, 179.09375f, 227.84375f, 117.375f, 174.375f, 228.625f, 116.23828f, 175.23828f, 232.98828f, 116.96875f, 175.96875f, 231.96875f, 120.24219f, 178.9414f, 233.375f, 150.84375f, 192.84375f, 234.84375f, 148.25f, 191.25f, 233.25f, 135.26172f, 186.26172f, 233.01172f, 147.1836f, 191.4336f, 233.4336f, 138.15625f, 187.28125f, 234.90625f, 149.61719f, 192.61719f, 234.61719f, 135.875f, 186.875f, 233.875f, 137.5625f, 185.5625f, 234.52734f, 129.6914f, 181.9414f, 234.3164f, 129.875f, 183.66797f, 231.28906f, 131.33203f, 183.08203f, 231.20703f, 130.5625f, 184.375f, 231.375f, 135.90625f, 186.90625f, 233.90625f, 140.89453f, 188.89453f, 234.89453f, 120.91797f, 177.91797f, 232.91797f, 119.625f, 176.625f, 231.625f, 116.94141f, 175.9414f, 231.9414f, 119.41797f, 177.16797f, 227.0664f, 126.11719f, 181.74219f, 232.64062f, 113.53125f, 172.53125f, 231.28125f, 114.33984f, 170.33984f, 229.33984f, 112.23828f, 170.86328f, 228.98828f, 113.88672f, 169.88672f, 229.05078f, 149.76562f, 192.22656f, 233.51172f, 112.89453f, 172.17578f, 227.61328f, 119.78906f, 177.78906f, 227.29688f, 117.125f, 177.125f, 229.19531f, 122.26953f, 178.73047f, 234.0f, 123.71875f, 179.71875f, 230.71875f, 116.55078f, 177.42578f, 232.30078f, 119.24609f, 178.2461f, 234.2461f, 119.10547f, 178.82422f, 233.38672f, 134.17578f, 186.17578f, 233.89453f, 140.96484f, 188.96484f, 236.40234f, 135.1914f, 187.3711f, 235.28125f, 139.17578f, 187.17578f, 234.07422f, 147.25f, 190.625f, 234.375f, 160.71875f, 198.71875f, 237.71875f, 134.875f, 186.875f, 234.59375f, 125.82422f, 183.82422f, 233.82422f, 146.38672f, 190.53906f, 236.61328f, 137.125f, 188.125f, 233.125f, 137.34766f, 188.6289f, 235.44922f, 138.91406f, 188.78906f, 234.51562f, 152.82422f, 194.82422f, 235.38672f, 147.5625f, 191.3711f, 235.53906f, 125.28125f, 181.28125f, 232.28125f, 122.375f, 179.09375f, 234.65625f, 126.78125f, 181.34375f, 229.11719f, 119.38672f, 175.35156f, 232.35156f, 121.63281f, 178.10547f, 232.53906f, 120.33203f, 175.61328f, 232.34375f, 115.71094f, 172.51953f, 231.25f, 130.27734f, 180.3125f, 229.94531f, 133.28125f, 184.49219f, 231.8086f, 136.8125f, 184.09375f, 228.65625f, 122.98828f, 176.66797f, 226.96094f, 118.76172f, 177.53125f, 231.9414f, 122.875f, 180.875f, 230.875f, 122.21875f, 181.09375f, 235.46875f, 125.44922f, 183.44922f, 231.84766f, 121.58984f, 180.71484f, 236.46484f, 123.53516f, 180.53516f, 235.28516f, 118.96094f, 179.96094f, 234.96094f, 122.33203f, 182.33203f, 234.33203f, 136.60156f, 188.0664f, 235.0664f, 134.46875f, 188.46875f, 234.46875f, 141.4375f, 189.23828f, 235.23828f, 154.33203f, 196.88281f, 237.10547f, 153.52734f, 195.99219f, 237.875f, 128.46484f, 184.46484f, 235.46484f, 130.03125f, 185.10547f, 233.88281f, 150.66797f, 195.66797f, 236.66797f, 153.46484f, 195.46484f, 237.46484f, 149.8086f, 194.8086f, 236.8086f, 160.98047f, 198.98047f, 237.98047f, 185.96875f, 211.71875f, 241.51953f, 176.2539f, 207.64844f, 242.9336f, 150.53516f, 193.53516f, 235.53516f, 146.51172f, 192.38672f, 238.41016f, 142.54297f, 188.79297f, 230.59375f, 119.71484f, 179.71484f, 233.71484f, 116.05859f, 177.0586f, 232.0586f, 131.32422f, 183.52344f, 233.33594f, 116.71094f, 175.0664f, 231.22266f, 149.01172f, 191.28125f, 233.6836f, 149.1914f, 191.1914f, 233.1914f, 166.9336f, 199.40234f, 235.9961f, 156.21094f, 192.3125f, 231.21484f, 145.73828f, 192.41797f, 232.15625f, 124.6875f, 183.83594f, 233.14844f, 121.55859f, 181.8164f, 233.6875f, 128.5586f, 185.8711f, 234.47266f, 126.69922f, 184.69922f, 234.69922f, 122.8125f, 182.125f, 233.4375f, 121.21484f, 182.21484f, 236.8711f, 123.96484f, 184.78516f, 234.375f, 130.95703f, 186.95703f, 237.95703f, 139.65625f, 191.65625f, 238.65625f, 140.70703f, 191.70703f, 236.70703f, 155.95312f, 199.52344f, 238.73828f, 143.375f, 191.25f, 236.75f, 126.60547f, 185.66797f, 235.02344f, 161.13672f, 197.95312f, 239.21484f, 164.22656f, 198.47656f, 235.35156f, 156.64453f, 198.64453f, 239.33203f, 164.1289f, 202.0f, 239.04297f, 164.10156f, 200.8711f, 238.53906f, 185.3164f, 211.4961f, 241.28125f, 181.91406f, 209.04297f, 238.65625f, 179.96094f, 210.52344f, 241.55078f, 148.4336f, 193.4336f, 235.08984f, 164.59766f, 201.16016f, 237.03125f, 124.515625f, 179.42969f, 235.91797f, 120.08203f, 180.57422f, 234.73828f, 138.1289f, 186.8789f, 235.2539f, 138.35156f, 188.35547f, 234.59375f, 186.59375f, 209.77344f, 237.63672f, 166.91406f, 199.95703f, 235.04297f, 154.02734f, 193.02734f, 234.02734f, 169.77734f, 199.97266f, 237.97266f, 170.76953f, 203.76953f, 234.98047f, 150.44922f, 194.17578f, 233.3125f, 123.84375f, 185.84375f, 235.59375f, 122.47266f, 184.47266f, 235.47266f, 128.125f, 186.125f, 234.125f, 142.07031f, 193.28125f, 238.17578f, 130.90234f, 186.58984f, 233.58984f, 125.17578f, 185.0f, 236.86328f, 132.10547f, 190.10547f, 238.10547f, 134.26953f, 190.01953f, 236.89453f, 145.28125f, 195.53125f, 238.53125f, 159.05469f, 199.47266f, 240.0f, 142.61328f, 193.86328f, 240.48828f, 140.89844f, 193.125f, 236.61328f, 161.3789f, 200.3789f, 241.3789f, 161.10938f, 193.01953f, 227.83203f, 165.49219f, 203.49219f, 240.49219f, 180.52344f, 209.52344f, 243.0f, 180.15625f, 210.15625f, 244.15625f, 182.375f, 211.375f, 241.375f, 179.60547f, 208.60547f, 242.08203f, 176.95703f, 206.82031f, 240.82031f, 188.78906f, 214.90234f, 244.72656f, 159.97266f, 198.8164f, 237.6211f, 169.83203f, 204.83203f, 244.83203f, 130.91406f, 184.23047f, 235.60156f, 156.4336f, 196.5039f, 239.40625f, 163.1836f, 199.66016f, 237.30469f, 212.26953f, 229.14453f, 245.01953f, 171.26172f, 201.4414f, 235.27344f, 204.52734f, 222.52734f, 244.52734f, 161.625f, 193.625f, 231.625f, 145.66797f, 191.03125f, 229.91016f, 170.6914f, 204.9961f, 239.85156f, 124.96875f, 188.96875f, 236.96875f, 123.65625f, 184.40625f, 234.03125f, 124.15625f, 187.03125f, 237.78125f, 132.03906f, 189.875f, 235.72656f, 147.7539f, 197.9375f, 238.54297f, 147.70703f, 196.6875f, 237.29297f, 148.8711f, 197.8711f, 238.8711f, 142.9961f, 193.9961f, 238.9961f, 143.0f, 196.0f, 240.0f, 148.0f, 197.0f, 240.0f, 138.84766f, 192.59766f, 238.72266f, 144.0625f, 195.0625f, 240.0625f, 142.57422f, 193.57422f, 238.57422f, 147.42578f, 181.10156f, 214.09375f, 165.7461f, 204.7461f, 243.7461f, 180.25f, 211.1875f, 242.15625f, 205.41406f, 226.41406f, 247.39062f, 217.63672f, 234.63672f, 250.63672f, 213.78516f, 232.78516f, 249.78516f, 212.84375f, 231.8125f, 248.90625f, 202.85547f, 224.85547f, 245.85547f, 195.10547f, 220.07031f, 242.08203f, 200.48047f, 222.69531f, 244.07031f, 189.41016f, 214.34766f, 243.85156f, 170.24219f, 203.61719f, 239.36719f, 151.23828f, 197.36328f, 237.98828f, 197.35547f, 219.32812f, 242.39453f, 179.83984f, 208.52734f, 238.3789f, 203.80078f, 221.80078f, 243.80078f, 150.19922f, 191.54297f, 229.76172f, 145.85156f, 192.90234f, 233.21875f, 150.53516f, 194.53516f, 233.09766f, 154.98047f, 200.25f, 237.51172f, 137.73047f, 191.0f, 236.82031f, 131.38672f, 189.38672f, 237.0039f, 144.0f, 197.21875f, 241.02344f, 137.57031f, 191.57031f, 238.0586f, 141.33203f, 195.33203f, 239.33203f, 144.3164f, 196.8789f, 240.66016f, 148.33984f, 197.28906f, 242.58984f, 139.55078f, 193.55078f, 239.27734f, 142.26953f, 194.97656f, 239.85547f, 143.0f, 195.78125f, 240.4375f, 143.32812f, 196.32812f, 240.32812f, 140.84375f, 193.49219f, 239.23047f, 140.49219f, 174.67969f, 208.67188f, 141.1211f, 194.90234f, 238.90234f, 169.94922f, 207.7539f, 243.5586f, 172.10547f, 206.17969f, 240.13672f, 204.00781f, 226.00781f, 248.57031f, 221.55469f, 235.1211f, 250.36719f, 225.1875f, 238.96875f, 247.96875f, 224.49219f, 238.21875f, 249.79297f, 179.99219f, 209.34766f, 240.39844f, 187.33594f, 212.40234f, 241.08594f, 163.33594f, 200.96094f, 238.08594f, 191.60547f, 214.21875f, 239.54297f, 164.30469f, 203.65625f, 240.91797f, 186.41016f, 213.02734f, 240.79688f, 180.98047f, 208.41797f, 238.41797f, 210.0586f, 227.83984f, 249.40234f, 126.03125f, 182.03125f, 229.03125f, 140.86328f, 189.86328f, 229.9375f, 144.08594f, 193.08594f, 233.08594f, 144.21875f, 195.21875f, 238.21875f, 145.1914f, 197.1914f, 236.8164f, 144.0f, 195.875f, 236.25f, 149.94922f, 198.94922f, 239.42969f, 155.10938f, 201.22266f, 241.85156f, 162.4375f, 206.3711f, 242.03125f, 137.33203f, 196.33203f, 240.33203f, 146.13672f, 199.40625f, 242.57031f, 143.10156f, 197.10156f, 241.85156f, 142.84766f, 196.84766f, 242.84766f, 142.40625f, 196.40625f, 240.65625f, 138.41797f, 196.23047f, 240.82422f, 141.45312f, 193.8164f, 236.91406f, 10.1171875f, 26.925781f, 45.65625f, 154.83594f, 202.3125f, 244.55078f, 154.94922f, 202.94922f, 242.94922f, 177.78125f, 212.03125f, 244.40625f, 212.17969f, 233.17969f, 251.67188f, 216.28125f, 235.28125f, 250.28125f, 239.51953f, 246.51953f, 252.51953f, 215.83984f, 232.36719f, 246.92969f, 177.67578f, 210.3711f, 241.3711f, 186.33984f, 213.23828f, 242.64453f, 190.14453f, 217.14453f, 245.10547f, 185.34375f, 213.59375f, 243.3711f, 169.4336f, 204.9961f, 240.625f, 189.96094f, 213.96094f, 241.96094f, 200.71875f, 222.71875f, 245.71875f, 198.44531f, 218.44531f, 242.44531f, 129.84766f, 186.84766f, 231.84766f, 125.125f, 186.53125f, 229.3125f, 130.23828f, 190.05078f, 234.40625f, 140.375f, 193.78125f, 237.78125f, 146.4414f, 198.84766f, 238.84766f, 146.125f, 199.125f, 240.875f, 143.54297f, 196.94922f, 240.94922f, 164.75f, 206.625f, 241.625f, 151.78516f, 202.03516f, 245.03516f, 153.9375f, 202.53125f, 243.125f, 143.875f, 198.23047f, 241.16406f, 145.82031f, 198.07031f, 240.95312f, 150.0f, 199.9336f, 244.88281f, 140.05078f, 197.76172f, 242.30469f, 137.0f, 195.0f, 241.0f, 42.128906f, 69.19531f, 95.47266f, 17.304688f, 31.847656f, 53.0f, 139.23828f, 196.45703f, 242.23828f, 142.0625f, 197.23047f, 242.92578f, 168.27734f, 208.33984f, 245.07031f, 186.21875f, 217.67578f, 245.92969f, 218.05078f, 234.63281f, 250.58203f, 231.65625f, 242.875f, 252.11328f, 189.6289f, 216.6289f, 243.6289f, 188.5586f, 215.5586f, 242.5586f, 181.6875f, 211.875f, 241.28125f, 174.46875f, 208.46875f, 244.28125f, 172.32422f, 206.32422f, 242.07422f, 203.03125f, 224.625f, 245.625f, 205.48047f, 226.48047f, 245.23047f, 226.26953f, 238.05078f, 247.45703f, 233.4414f, 241.03516f, 251.6289f, 129.21875f, 188.21875f, 232.21875f, 129.1914f, 188.1914f, 232.1914f, 131.125f, 190.125f, 234.125f, 135.0f, 194.0f, 238.0f, 139.4375f, 196.4375f, 239.4375f, 140.65625f, 197.65625f, 240.65625f, 139.09766f, 198.09766f, 242.09766f, 147.35156f, 202.35156f, 243.35156f, 153.40234f, 202.32031f, 243.23828f, 147.15234f, 201.08203f, 242.61719f, 155.50781f, 205.50781f, 242.50781f, 157.55078f, 205.84375f, 246.13672f, 146.86328f, 198.86328f, 245.86328f, 150.17969f, 201.125f, 244.125f, 142.125f, 199.125f, 242.125f, 49.63672f, 75.42578f, 103.46875f, 28.699219f, 41.69922f, 58.210938f, 183.16797f, 218.15625f, 250.84375f, 174.19531f, 209.38672f, 241.57422f, 150.64453f, 201.91797f, 244.78125f, 178.85547f, 213.63672f, 244.17578f, 221.80469f, 238.21875f, 250.46484f, 211.46094f, 230.65625f, 247.27344f, 215.15625f, 233.86328f, 248.0f, 219.08203f, 235.08203f, 249.0586f, 193.8086f, 219.8086f, 244.8086f, 191.08984f, 218.28125f, 244.90234f, 182.75f, 213.0f, 242.375f, 214.52344f, 232.13672f, 247.76172f, 224.95703f, 236.90234f, 248.90234f, 239.125f, 244.125f, 250.125f, 232.21875f, 239.21875f, 249.21875f, 134.0625f, 190.85547f, 231.26172f, 135.9375f, 193.9375f, 233.9375f, 135.91016f, 192.8164f, 235.84766f, 137.39453f, 195.96875f, 236.0625f, 140.98828f, 197.98828f, 240.98828f, 143.1289f, 201.11719f, 241.1211f, 141.03125f, 200.03125f, 242.03125f, 139.03125f, 198.03125f, 240.03125f, 142.76172f, 199.76172f, 244.76172f, 159.0039f, 207.0039f, 246.9414f, 148.91016f, 201.9414f, 245.9414f, 152.88672f, 204.91797f, 244.98047f, 155.24219f, 205.33203f, 245.0f, 157.96875f, 206.21875f, 245.78125f, 156.90625f, 205.9336f, 245.85156f, 47.94922f, 71.44922f, 100.36719f, 27.960938f, 42.05078f, 57.71875f, 166.8125f, 207.1875f, 243.0625f, 188.5586f, 218.4961f, 244.125f, 209.57812f, 235.35938f, 252.26562f, 224.84375f, 241.97266f, 254.98047f, 236.03125f, 245.03125f, 251.96875f, 240.84375f, 247.84375f, 253.84375f, 213.63672f, 233.70703f, 248.3125f, 218.5f, 236.55078f, 247.34375f, 229.9375f, 242.84375f, 251.84375f, 236.75781f, 243.75781f, 251.75781f, 203.6875f, 225.65625f, 246.59375f, 215.76172f, 231.69922f, 244.63672f, 235.69922f, 240.15625f, 249.2539f, 242.03125f, 247.0f, 250.0f, 237.375f, 242.375f, 248.375f, 159.3086f, 198.85156f, 234.7539f, 139.96094f, 193.27344f, 233.11719f, 138.98047f, 193.98047f, 234.98047f, 141.75f, 196.0f, 237.375f, 142.78516f, 200.78516f, 239.09766f, 144.0f, 202.0f, 242.0f, 146.6875f, 201.15625f, 245.0f, 145.16016f, 202.16016f, 245.16016f, 144.84375f, 201.84375f, 244.84375f, 145.0f, 202.0f, 246.47656f, 144.13672f, 203.13672f, 244.61328f, 147.15234f, 204.52734f, 246.40234f, 146.25781f, 203.25781f, 246.25781f, 150.3125f, 205.0f, 245.84375f, 161.82422f, 210.34766f, 248.08594f, 77.0625f, 88.625f, 100.83984f, 53.691406f, 62.257812f, 71.75391f, 26.042969f, 45.10547f, 60.484375f, 218.15234f, 237.5625f, 251.42578f, 239.21875f, 246.21875f, 252.21875f, 248.40625f, 252.72266f, 254.35547f, 238.125f, 245.125f, 252.875f, 223.64844f, 238.11719f, 247.27344f, 190.32812f, 221.32812f, 242.32812f, 187.41016f, 219.09766f, 243.9414f, 196.70703f, 222.0f, 243.88281f, 233.54297f, 242.01953f, 249.28125f, 244.375f, 248.375f, 250.625f, 251.16016f, 252.42969f, 252.03906f, 244.10547f, 248.10547f, 249.10547f, 242.01953f, 246.01953f, 249.01953f, 239.0f, 244.0f, 247.15625f, 156.5664f, 199.58984f, 234.34375f, 143.38672f, 196.38672f, 236.38672f, 144.57422f, 197.57422f, 237.57422f, 151.05469f, 201.05469f, 236.05469f, 167.89062f, 207.64062f, 238.01562f, 149.53125f, 202.53125f, 243.38281f, 149.42578f, 204.42578f, 245.42578f, 149.28125f, 204.28125f, 245.28125f, 146.41016f, 205.41016f, 245.41016f, 148.61328f, 206.61328f, 246.61328f, 149.85156f, 206.57422f, 247.0f, 152.09375f, 206.58984f, 245.90234f, 159.75f, 210.4375f, 247.86719f, 149.08203f, 207.08203f, 247.08203f, 150.92969f, 206.83203f, 247.53125f, 71.09375f, 87.09375f, 100.78125f, 37.347656f, 49.347656f, 63.347656f, 27.722656f, 40.597656f, 56.347656f, 167.44922f, 213.44922f, 247.44922f, 196.01953f, 226.66797f, 249.83203f, 228.875f, 243.52734f, 251.8086f, 226.98828f, 240.5625f, 249.5625f, 221.94531f, 238.04297f, 248.34375f, 209.41016f, 230.82031f, 246.58984f, 209.78516f, 233.65625f, 245.91406f, 230.01172f, 239.27344f, 248.78125f, 243.0f, 249.0f, 249.0f, 252.21484f, 252.21484f, 250.21484f, 249.0f, 251.0f, 249.25f, 247.46875f, 249.21875f, 248.34375f, 244.65625f, 246.65625f, 245.65625f, 241.34375f, 245.34375f, 244.34375f, 184.60547f, 214.15625f, 237.375f, 160.73047f, 202.66016f, 235.58984f, 148.0f, 201.0f, 235.0f, 154.08203f, 203.90625f, 236.90625f, 163.01172f, 207.34766f, 240.28125f, 158.90625f, 206.24219f, 239.65234f, 152.9336f, 206.0664f, 246.0f, 159.0f, 209.0f, 244.0f, 152.58203f, 207.64453f, 245.11328f, 154.0f, 208.53125f, 247.0625f, 154.0664f, 207.0664f, 247.0664f, 156.77734f, 209.17578f, 247.97656f, 158.01953f, 211.66797f, 248.42969f, 155.41016f, 208.46875f, 248.35156f, 155.0664f, 208.0664f, 249.1289f, 84.35547f, 94.953125f, 104.46094f, 14.644531f, 26.644531f, 38.64453f, 22.210938f, 40.835938f, 54.710938f, 160.59375f, 211.53125f, 247.46875f, 159.79688f, 211.97656f, 247.38281f, 203.46875f, 231.23047f, 250.6875f, 202.71875f, 227.41016f, 247.33594f, 213.41797f, 233.82422f, 247.88672f, 235.44531f, 243.50781f, 250.97656f, 244.33594f, 249.0f, 248.73047f, 247.59375f, 249.59375f, 246.59375f, 248.53516f, 249.46484f, 247.0f, 248.90625f, 250.50781f, 247.70703f, 239.86719f, 244.66797f, 247.5625f, 231.53516f, 238.53516f, 246.53516f, 235.0586f, 240.0586f, 246.0586f, 234.27344f, 238.80078f, 247.625f, 194.71875f, 217.71875f, 234.82031f, 199.47266f, 220.47266f, 237.47266f, 189.36719f, 215.15625f, 237.83984f, 163.17578f, 206.17578f, 238.17578f, 155.82422f, 205.44922f, 238.44922f, 151.6875f, 205.6875f, 239.6875f, 154.66406f, 208.66406f, 244.66406f, 157.89453f, 210.89453f, 244.89453f, 158.0f, 210.0f, 247.0f, 156.7539f, 210.7539f, 246.7539f, 156.15625f, 210.15625f, 246.15625f, 163.40625f, 208.82031f, 240.5664f, 94.75f, 128.85938f, 149.77344f, 158.91016f, 212.91016f, 248.91016f, 159.0f, 213.0f, 249.0f, 86.765625f, 96.76172f, 103.52734f, 13.9765625f, 27.976562f, 40.976562f, 30.15625f, 48.851562f, 63.1875f, 171.8789f, 215.3711f, 249.125f, 168.55078f, 214.55078f, 248.375f, 195.85156f, 226.95703f, 247.6875f, 216.84375f, 234.53125f, 248.4375f, 235.2461f, 244.61719f, 248.5039f, 237.48047f, 245.03125f, 249.3789f, 242.71875f, 246.71875f, 247.71875f, 239.47266f, 245.47266f, 245.47266f, 242.6875f, 246.4375f, 245.4375f, 236.80078f, 241.17578f, 244.55078f, 235.55078f, 240.55078f, 243.55078f, 230.0f, 237.0f, 245.0f, 230.78906f, 237.78906f, 245.78906f, 223.17578f, 236.17578f, 245.17578f, 180.84766f, 211.9414f, 233.1289f, 183.80469f, 212.05078f, 232.98047f, 176.89453f, 212.89453f, 236.91797f, 172.0f, 209.0f, 235.33984f, 163.7539f, 208.66016f, 238.79297f, 156.02344f, 208.98828f, 241.0f, 159.91797f, 209.91797f, 243.10547f, 160.0f, 213.0f, 245.0f, 158.09375f, 212.0f, 246.0f, 161.07422f, 213.79297f, 247.88672f, 160.0f, 213.0f, 246.8125f, 85.86719f, 74.39453f, 70.05078f, 37.652344f, 46.222656f, 56.9375f, 164.58594f, 215.20703f, 248.0f, 183.92578f, 223.67969f, 249.76172f, 73.46094f, 90.36719f, 100.64844f, 13.5078125f, 25.507812f, 38.257812f, 37.61328f, 53.38672f, 68.13672f, 191.76953f, 228.58594f, 248.21875f, 212.35156f, 235.25781f, 249.16406f, 236.71875f, 245.5625f, 248.86719f, 240.26953f, 248.98828f, 247.89453f, 236.09766f, 240.64062f, 243.38281f, 224.26562f, 236.01562f, 242.01562f, 240.3086f, 245.58984f, 248.4961f, 241.08203f, 245.08203f, 246.08203f, 241.89453f, 245.91797f, 245.15625f, 238.41016f, 243.66016f, 244.03516f, 240.58984f, 245.33984f, 245.28516f, 236.64844f, 242.23438f, 242.6914f, 229.07422f, 235.88672f, 243.69922f, 233.83594f, 239.02344f, 245.02344f, 162.30469f, 205.30469f, 237.30469f, 162.09375f, 206.85547f, 237.78125f, 162.78516f, 206.86719f, 235.86719f, 175.6836f, 212.66016f, 238.4375f, 170.03516f, 211.84766f, 236.84766f, 167.80469f, 211.88672f, 240.88672f, 166.90625f, 213.90625f, 243.90625f, 165.52734f, 213.96484f, 244.09375f, 162.625f, 213.53125f, 244.71875f, 164.91797f, 214.91797f, 247.91797f, 164.98828f, 214.98828f, 247.98828f, 172.84375f, 160.60547f, 154.8164f, 72.86328f, 91.78906f, 113.26172f, 165.91797f, 215.25f, 247.20703f, 166.78125f, 217.6875f, 248.875f, 73.62891f, 87.62891f, 96.62891f, 16.4375f, 28.4375f, 42.507812f, 26.136719f, 42.13672f, 57.13672f, 192.0625f, 228.875f, 247.96875f, 219.33984f, 237.1289f, 246.71875f, 239.10547f, 248.0f, 246.91797f, 238.41406f, 246.79297f, 244.0f, 191.70312f, 182.28906f, 175.4961f, 35.960938f, 51.679688f, 66.77344f, 231.28125f, 240.46875f, 245.5625f, 242.1875f, 246.0f, 245.0f, 239.33203f, 244.91797f, 245.10156f, 237.9414f, 243.9414f, 243.9414f, 187.8164f, 75.75391f, 68.52344f, 32.21875f, 18.378906f, 28.386719f, 36.132812f, 18.96875f, 26.78125f, 30.964844f, 19.097656f, 27.53125f, 162.0f, 207.0f, 236.0f, 162.21484f, 207.21484f, 236.21484f, 162.28125f, 207.28125f, 236.28125f, 166.82422f, 210.82422f, 237.82422f, 163.17578f, 210.17578f, 238.17578f, 167.40625f, 211.40625f, 236.40625f, 170.0f, 214.0f, 240.75f, 170.34375f, 217.34375f, 245.34375f, 169.55469f, 216.55469f, 246.55469f, 168.71875f, 217.71875f, 247.71875f, 170.3711f, 217.3711f, 247.3711f, 163.78125f, 154.78125f, 148.49219f, 62.992188f, 84.09375f, 107.00391f, 171.74219f, 220.0f, 249.75f, 172.28125f, 219.28125f, 247.28125f, 88.90234f, 97.109375f, 105.12109f, 15.832031f, 27.832031f, 40.58203f, 24.464844f, 40.464844f, 55.464844f, 221.52734f, 239.08984f, 246.08984f, 224.97266f, 240.88672f, 248.20312f, 234.9375f, 243.1875f, 248.5625f, 231.10156f, 240.59375f, 245.34766f, 191.33203f, 179.17188f, 165.51953f, 36.003906f, 48.003906f, 60.753906f, 241.26953f, 245.26953f, 244.26953f, 235.03516f, 243.03516f, 245.03516f, 232.28125f, 240.28125f, 243.2461f, 233.625f, 239.0f, 240.875f, 157.05469f, 73.84375f, 72.57422f, 42.171875f, 25.671875f, 36.796875f, 44.23828f, 28.328125f, 38.058594f, 33.367188f, 24.96875f, 37.04297f, 165.33203f, 209.33203f, 234.33203f, 165.9414f, 209.9414f, 234.9414f, 165.9375f, 210.875f, 235.40625f, 167.75781f, 212.58203f, 235.9336f, 166.51172f, 211.59375f, 235.35547f, 166.53125f, 212.53125f, 235.53125f, 172.65234f, 216.0586f, 237.58984f, 172.375f, 216.375f, 241.375f, 173.47656f, 218.41406f, 243.88281f, 172.78125f, 218.78125f, 243.71875f, 172.71484f, 219.71484f, 246.65234f, 67.11719f, 67.97266f, 75.49609f, 68.91797f, 82.85547f, 102.04297f, 171.09766f, 212.59766f, 237.1289f, 177.05469f, 223.65625f, 245.64844f, 88.50391f, 94.44141f, 99.77734f, 12.949219f, 26.949219f, 38.30078f, 29.503906f, 38.628906f, 47.753906f, 228.64844f, 239.64844f, 245.53125f, 234.55078f, 245.03906f, 244.10547f, 229.80078f, 240.80078f, 245.55078f, 229.92969f, 240.0f, 244.34766f, 151.9336f, 144.5586f, 137.30469f, 33.0625f, 45.945312f, 60.83203f, 236.5664f, 243.21094f, 241.99219f, 228.14844f, 237.21484f, 242.83594f, 228.0664f, 237.0664f, 242.0664f, 227.73828f, 236.42578f, 240.01953f, 147.40625f, 62.265625f, 62.285156f, 40.972656f, 29.292969f, 39.703125f, 43.21875f, 27.210938f, 39.621094f, 31.519531f, 21.832031f, 33.320312f, 174.04688f, 212.04688f, 235.04688f, 172.0f, 213.0f, 233.0f, 171.125f, 212.125f, 232.125f, 172.0f, 214.0f, 236.0f, 173.21484f, 214.21484f, 234.21484f, 173.65625f, 216.65625f, 235.65625f, 173.8789f, 216.16797f, 237.95703f, 175.98828f, 218.23828f, 237.61328f, 178.94922f, 221.6914f, 240.39062f, 182.38672f, 223.25781f, 241.46484f, 184.82031f, 224.07031f, 241.28125f, 63.378906f, 63.65625f, 72.89844f, 60.13672f, 78.359375f, 97.49219f, 86.22656f, 110.15625f, 124.98047f, 192.2539f, 227.16797f, 246.08203f, 84.32422f, 93.32422f, 102.32422f, 37.570312f, 47.570312f, 57.570312f, 233.9414f, 234.92969f, 229.35547f, 221.21094f, 237.95703f, 244.57422f, 126.58203f, 152.46875f, 163.64453f, 59.070312f, 100.69922f, 134.58203f, 137.33984f, 167.4375f, 182.36328f, 86.44141f, 87.546875f, 91.75391f, 73.41016f, 78.41016f, 84.41016f, 50.14453f, 53.48828f, 57.80078f, 12.738281f, 24.738281f, 38.73828f, 213.48438f, 230.82812f, 239.67969f, 219.13281f, 234.19531f, 241.41016f, 164.59766f, 80.69531f, 81.66406f, 34.79297f, 23.441406f, 32.867188f, 38.660156f, 27.261719f, 38.960938f, 34.214844f, 24.5625f, 37.15625f, 42.023438f, 36.390625f, 42.86328f, 176.86328f, 214.70703f, 233.55078f, 176.38672f, 214.08594f, 232.94922f, 176.90234f, 215.0586f, 233.7461f, 178.27734f, 215.47266f, 234.21875f, 176.98047f, 216.03906f, 233.01953f, 176.73047f, 217.94922f, 232.26172f, 69.28125f, 72.46094f, 72.46484f, 88.046875f, 94.41797f, 98.88672f, 187.51562f, 224.63281f, 240.1836f, 91.578125f, 76.98828f, 79.78906f, 28.285156f, 33.347656f, 45.289062f, 29.667969f, 38.98047f, 48.76172f, 88.95703f, 111.36328f, 125.71094f, 206.92969f, 233.26172f, 243.55078f, 78.62891f, 91.21875f, 100.04297f, 35.628906f, 44.785156f, 53.882812f, 123.57422f, 106.92969f, 89.21094f, 211.63672f, 234.125f, 242.41016f, 111.47266f, 133.17969f, 146.65234f, 60.64453f, 79.41016f, 93.13672f, 141.13672f, 168.13672f, 181.44922f, 49.671875f, 63.48828f, 74.25781f, 71.24609f, 73.74609f, 78.90625f, 44.476562f, 53.726562f, 56.003906f, 11.175781f, 21.488281f, 33.80078f, 121.515625f, 112.890625f, 109.984375f, 211.16406f, 227.23047f, 232.22656f, 177.85156f, 92.63281f, 91.21484f, 33.464844f, 20.539062f, 30.769531f, 40.63672f, 25.261719f, 36.41797f, 34.80078f, 27.066406f, 35.51953f, 46.20703f, 41.265625f, 50.839844f, 180.72266f, 217.69531f, 233.69531f, 180.875f, 216.875f, 230.86719f, 188.65625f, 216.71875f, 228.65625f, 197.98828f, 221.05078f, 227.76953f, 206.89453f, 223.33203f, 223.46094f, 52.01172f, 57.01172f, 60.01172f, 70.42578f, 70.57031f, 65.67578f, 49.82422f, 55.73828f, 62.464844f, 143.79688f, 158.07812f, 167.04688f, 98.07031f, 81.88281f, 81.88672f, 31.023438f, 34.984375f, 46.023438f, 29.015625f, 37.753906f, 49.253906f, 97.52344f, 114.55859f, 123.39453f, 216.97266f, 235.97266f, 242.0f, 69.42578f, 82.42578f, 88.42578f, 29.042969f, 37.01953f, 48.09375f, 165.32812f, 155.01562f, 142.95703f, 228.8789f, 240.0039f, 236.2539f, 104.390625f, 124.44922f, 135.36719f, 134.78125f, 133.67969f, 126.19531f, 138.10156f, 155.65625f, 169.1914f, 47.179688f, 58.6875f, 70.55859f, 66.11719f, 70.421875f, 74.49219f, 55.6875f, 62.0f, 69.29297f, 13.03125f, 26.96875f, 39.9375f, 85.67969f, 80.05469f, 73.55469f, 42.25f, 49.48047f, 60.835938f, 177.36328f, 84.765625f, 82.02344f, 36.429688f, 22.21875f, 32.460938f, 37.5625f, 24.59375f, 33.679688f, 32.683594f, 22.816406f, 30.796875f, 46.76953f, 36.51953f, 41.16797f, 207.2461f, 225.46484f, 228.09766f, 205.4961f, 226.4961f, 227.55078f, 203.1875f, 224.1875f, 227.35156f, 118.23047f, 108.26172f, 92.71094f, 53.867188f, 59.117188f, 63.367188f, 44.554688f, 51.85547f, 55.421875f, 127.50781f, 116.38281f, 99.63281f, 36.10547f, 33.898438f, 34.335938f, 52.152344f, 60.277344f, 63.527344f, 54.445312f, 59.445312f, 63.695312f, 48.382812f, 57.382812f, 62.382812f, 222.77344f, 220.92188f, 209.0586f, 77.21875f, 89.94141f, 97.77344f, 53.007812f, 60.25f, 66.27344f, 74.703125f, 83.84375f, 85.56641f, 16.824219f, 28.824219f, 40.82422f, 173.91797f, 161.59766f, 145.66016f, 34.05078f, 45.992188f, 57.41797f, 104.5f, 120.62109f, 128.58984f, 44.441406f, 51.660156f, 61.29297f, 40.40625f, 50.15625f, 62.03125f, 36.371094f, 48.371094f, 64.12109f, 82.13672f, 84.63672f, 87.01172f, 37.48047f, 44.48047f, 53.73047f, 8.972656f, 18.972656f, 30.972656f, 103.07031f, 98.38672f, 95.00781f, 44.359375f, 45.527344f, 58.589844f, 108.390625f, 41.921875f, 40.296875f, 41.285156f, 22.660156f, 32.660156f, 30.480469f, 20.285156f, 31.382812f, 25.964844f, 22.265625f, 24.414062f, 38.796875f, 30.640625f, 36.359375f, 23.964844f, 29.777344f, 35.777344f, 25.886719f, 25.480469f, 32.66797f, 215.40625f, 224.85156f, 220.8164f, 101.28125f, 73.53906f, 66.16797f, 24.941406f, 24.441406f, 29.441406f, 24.875f, 27.875f, 33.6875f, 90.77734f, 68.08984f, 64.25f, 8.964844f, 14.183594f, 22.777344f, 21.824219f, 23.382812f, 30.863281f, 52.378906f, 56.59375f, 62.359375f, 25.65625f, 24.878906f, 32.816406f, 182.59375f, 171.59375f, 153.59375f, 72.796875f, 87.59766f, 91.984375f, 156.67578f, 123.21094f, 103.59375f, 65.078125f, 72.078125f, 79.328125f, 29.03125f, 32.914062f, 40.390625f, 178.44922f, 166.32422f, 150.05078f, 35.191406f, 43.441406f, 54.566406f, 64.125f, 67.42969f, 72.72266f, 12.3046875f, 21.933594f, 31.5625f, 53.9375f, 49.183594f, 54.742188f, 15.621094f, 23.621094f, 36.51953f, 62.722656f, 64.96484f, 64.59375f, 49.257812f, 56.257812f, 64.25781f, 8.722656f, 17.761719f, 29.429688f, 21.699219f, 29.1875f, 38.26953f, 103.24219f, 94.30469f, 86.33594f, 33.69922f, 36.109375f, 39.445312f, 25.941406f, 8.515625f, 17.984375f, 167.4961f, 151.1211f, 138.71484f, 134.8711f, 118.19531f, 106.15625f, 26.113281f, 23.621094f, 30.367188f, 19.054688f, 20.15625f, 25.257812f, 14.878906f, 17.128906f, 28.753906f, 216.22266f, 222.47266f, 215.22266f, 86.98047f, 60.476562f, 54.98828f, 28.710938f, 25.960938f, 33.085938f, 28.503906f, 31.503906f, 36.503906f, 19.257812f, 19.257812f, 27.257812f, 3.96875f, 10.96875f, 20.96875f, 22.835938f, 22.316406f, 30.316406f, 35.972656f, 38.972656f, 47.972656f, 25.109375f, 24.859375f, 30.484375f, 166.95312f, 135.51562f, 124.49609f, 56.089844f, 56.320312f, 60.726562f, 42.253906f, 37.023438f, 38.089844f, 32.88672f, 35.14453f, 40.89453f, 107.64453f, 79.63672f, 73.07422f, 141.8164f, 122.44141f, 107.56641f, 36.871094f, 44.277344f, 49.058594f, 79.01172f, 78.203125f, 82.47266f, 40.921875f, 51.171875f, 57.546875f, 67.38672f, 64.82422f, 66.0f, 49.726562f, 48.371094f, 47.4375f, 170.8164f, 154.375f, 132.21875f, 206.76953f, 203.39453f, 193.26953f, 7.6445312f, 15.644531f, 28.644531f, 28.769531f, 35.621094f, 41.621094f, 94.64453f, 89.89453f, 85.08984f, 31.230469f, 35.85547f, 38.85547f, 32.066406f, 11.777344f, 18.238281f, 118.63281f, 103.56641f, 94.109375f, 153.3125f, 136.90625f, 120.90625f, 29.082031f, 25.617188f, 31.105469f, 19.453125f, 20.453125f, 25.453125f, 13.046875f, 14.214844f, 20.828125f, 215.34375f, 220.125f, 216.19531f, 104.09375f, 77.05469f, 68.25781f, 30.074219f, 26.394531f, 32.26953f, 29.835938f, 30.894531f, 36.523438f, 17.65625f, 16.875f, 24.875f, 6.4570312f, 11.40625f, 19.308594f, 24.269531f, 23.488281f, 31.488281f, 25.582031f, 24.703125f, 33.05078f, 25.085938f, 23.191406f, 31.679688f, 31.523438f, 30.085938f, 36.304688f, 47.664062f, 44.226562f, 51.007812f, 37.73047f, 42.38672f, 51.55078f, 19.789062f, 23.375f, 29.105469f, 121.41016f, 93.91016f, 81.05859f, 146.32812f, 128.64062f, 112.70703f, 21.496094f, 27.867188f, 36.003906f, 84.23828f, 90.59766f, 90.140625f, 56.60547f, 64.35547f, 70.73047f, 53.527344f, 62.71875f, 71.46875f, 57.226562f, 66.19531f, 73.78906f, 133.72656f, 118.99609f, 108.015625f, 167.65234f, 165.10938f, 151.98828f, 161.71875f, 156.96875f, 147.5664f, 135.3125f, 131.60156f, 125.06641f, 149.25f, 154.375f, 153.71875f, 38.722656f, 38.48047f, 45.421875f, 47.128906f, 35.378906f, 36.253906f, 138.89062f, 121.328125f, 107.546875f, 144.29688f, 123.171875f, 109.609375f, 88.40234f, 104.40234f, 103.72656f, 26.757812f, 28.007812f, 33.015625f, 48.21875f, 47.21875f, 43.214844f, 40.898438f, 57.148438f, 64.14844f, 112.84766f, 91.17969f, 74.46094f, 81.875f, 73.9375f, 50.96875f, 24.023438f, 25.023438f, 30.023438f, 16.070312f, 14.109375f, 25.089844f, 7.5039062f, 12.6875f, 23.292969f, 22.34375f, 22.707031f, 32.523438f, 77.59766f, 72.44531f, 53.660156f, 67.25781f, 64.19531f, 48.289062f, 19.1875f, 22.9375f, 27.199219f, 39.992188f, 39.117188f, 45.421875f, 39.203125f, 42.234375f, 51.289062f, 31.09375f, 44.69922f, 53.69922f, 76.14453f, 65.01953f, 58.64453f, 139.44531f, 112.4375f, 94.98047f, 24.441406f, 25.996094f, 30.871094f, 208.03906f, 182.48828f, 159.83203f, 59.179688f, 68.24219f, 73.234375f, 62.1875f, 72.0625f, 80.8125f, 66.74609f, 74.74609f, 77.74609f, 114.75391f, 108.91406f, 102.77734f, 64.10156f, 69.16406f, 75.16406f, 154.67969f, 128.67969f, 111.67969f, 67.71484f, 68.71484f, 72.78125f, 63.44922f, 67.44922f, 70.44922f, 25.777344f, 32.742188f, 41.964844f, 52.429688f, 59.484375f, 67.45703f, 17.277344f, 16.347656f, 21.46875f, 113.92578f, 96.65234f, 82.28906f, 17.9375f, 38.5625f, 34.6875f, 99.38672f, 94.78516f, 58.023438f, 74.34766f, 70.14844f, 61.585938f, 50.875f, 51.683594f, 43.757812f, 73.63281f, 66.31641f, 41.265625f, 59.453125f, 57.789062f, 42.6875f, 69.18359f, 61.871094f, 52.589844f, 101.71484f, 97.61719f, 59.73828f, 81.29297f, 81.42969f, 57.80078f, 63.710938f, 61.710938f, 38.960938f, 48.85547f, 45.117188f, 32.33203f, 60.160156f, 59.160156f, 38.535156f, 70.16406f, 64.16406f, 50.90625f, 46.453125f, 47.808594f, 51.648438f, 50.226562f, 49.257812f, 55.73828f, 87.125f, 81.80859f, 53.660156f, 83.609375f, 78.24219f, 53.92578f, 95.46875f, 86.15625f, 57.0625f, 20.324219f, 23.285156f, 28.496094f, 136.2539f, 124.625f, 107.47266f, 79.12891f, 74.37891f, 49.441406f, 78.00391f, 72.02344f, 45.964844f, 71.11719f, 69.11719f, 46.117188f, 71.63281f, 72.31641f, 42.265625f, 73.91797f, 73.29297f, 46.04297f, 87.4375f, 81.54297f, 55.226562f, 58.910156f, 56.460938f, 35.035156f, 75.37109f, 69.12109f, 49.746094f, 77.171875f, 71.546875f, 49.546875f, 85.92578f, 80.9375f, 52.898438f, 92.63281f, 84.63281f, 61.632812f, 94.50781f, 91.56641f, 58.078125f, 12.628906f, 31.167969f, 31.355469f, 68.58984f, 63.589844f, 43.589844f, 75.16797f, 64.74609f, 47.71875f, 77.234375f, 67.671875f, 50.003906f, 31.894531f, 32.515625f, 19.507812f, 41.84375f, 44.48828f, 31.4375f, 53.117188f, 46.160156f, 37.222656f, 83.58594f, 77.24219f, 60.554688f, 89.11719f, 80.91406f, 64.03516f, 85.22656f, 79.0625f, 55.14453f, 51.589844f, 48.183594f, 34.17578f, 37.76172f, 39.085938f, 28.351562f, 49.19922f, 43.453125f, 33.828125f, 94.890625f, 85.578125f, 74.546875f, 85.70703f, 76.70703f, 61.45703f, 81.08203f, 75.39453f, 56.39453f, 82.5625f, 80.90625f, 49.339844f, 77.16016f, 72.21484f, 48.085938f, 83.05859f, 77.97266f, 53.640625f, 74.359375f, 73.671875f, 47.945312f, 76.52734f, 74.83984f, 42.89453f, 63.91797f, 60.179688f, 45.148438f, 63.640625f, 63.328125f, 44.621094f, 91.91406f, 83.28906f, 65.96875f, 97.27344f, 85.27344f, 61.273438f, 80.89453f, 73.89453f, 55.89453f, 41.484375f, 44.234375f, 27.609375f, 45.058594f, 43.058594f, 30.058594f, 53.007812f, 51.609375f, 36.890625f, 32.73828f, 35.246094f, 20.132812f, 77.35156f, 69.4375f, 49.10547f, 88.63672f, 76.63672f, 60.63672f, 25.90625f, 42.320312f, 50.046875f, 39.527344f, 33.660156f, 15.21875f, 61.859375f, 68.859375f, 25.796875f, 53.066406f, 57.816406f, 22.316406f, 55.257812f, 60.1875f, 21.78125f, 44.21875f, 47.285156f, 18.027344f, 47.003906f, 54.003906f, 21.410156f, 53.17578f, 60.414062f, 23.757812f, 64.046875f, 71.31641f, 31.851562f, 62.722656f, 66.72266f, 29.722656f, 58.589844f, 59.996094f, 32.722656f, 57.726562f, 58.60547f, 30.976562f, 44.640625f, 48.578125f, 26.640625f, 44.148438f, 47.085938f, 23.746094f, 61.15625f, 60.8125f, 32.80078f, 60.726562f, 67.07031f, 28.984375f, 58.703125f, 64.953125f, 33.097656f, 63.523438f, 66.20703f, 30.699219f, 64.015625f, 71.484375f, 36.078125f, 55.359375f, 57.92578f, 29.589844f, 53.222656f, 59.398438f, 31.183594f, 21.53125f, 25.535156f, 10.1171875f, 57.078125f, 62.140625f, 28.796875f, 53.839844f, 58.753906f, 31.421875f, 57.777344f, 63.046875f, 31.769531f, 38.921875f, 49.203125f, 30.234375f, 53.57422f, 56.664062f, 29.472656f, 42.828125f, 46.765625f, 27.128906f, 48.160156f, 50.722656f, 34.898438f, 73.23047f, 70.33203f, 49.015625f, 66.07031f, 66.47656f, 44.601562f, 53.98047f, 57.19922f, 35.29297f, 59.339844f, 68.62109f, 67.92578f, 61.390625f, 67.953125f, 68.515625f, 62.652344f, 69.21484f, 69.77734f, 58.414062f, 64.70703f, 66.18359f, 65.625f, 73.34375f, 76.46875f, 68.89453f, 72.68359f, 75.99609f, 105.84766f, 90.05859f, 83.9375f, 139.13281f, 119.85156f, 106.69531f, 145.98047f, 121.421875f, 106.87891f, 139.5586f, 117.89844f, 102.44141f, 129.73828f, 109.40234f, 93.58594f, 140.90625f, 118.40234f, 99.53906f, 126.21094f, 105.24219f, 92.17969f, 135.34375f, 111.74609f, 93.27734f, 125.55469f, 102.24219f, 83.92969f, 137.16797f, 114.44922f, 97.85547f, 146.1914f, 130.27344f, 114.36719f, 125.390625f, 109.953125f, 95.359375f, 136.8164f, 123.84766f, 108.03906f, 147.0625f, 131.57031f, 112.1875f, 141.6211f, 126.69141f, 109.37891f, 135.92578f, 118.58203f, 102.58203f, 135.65625f, 118.9375f, 101.78125f, 160.57422f, 147.85547f, 132.26172f, 125.13672f, 107.22656f, 93.45703f, 159.375f, 147.71094f, 133.08203f, 188.79688f, 172.88672f, 152.03516f, 157.46875f, 143.03125f, 124.76953f, 155.4961f, 142.875f, 128.17578f, 142.50781f, 123.78906f, 108.19531f, 138.44922f, 120.92578f, 105.265625f, 139.35547f, 122.91016f, 108.73047f, 1.625f, 0.0f, 0.625f, 2.6367188f, 4.6367188f, 3.6367188f, 1.15625f, 2.9296875f, 2.0429688f, 5.4179688f, 3.5703125f, 4.4765625f, 5.3046875f, 4.3046875f, 2.8320312f, 0.1953125f, 4.9179688f, 0.9296875f, 24.394531f, 26.300781f, 19.988281f, 92.29297f, 123.94141f, 132.6914f, 86.66016f, 146.0586f, 159.78906f, 91.70703f, 151.98828f, 161.89453f, 88.82422f, 155.33594f, 163.46094f, 89.07031f, 152.69531f, 161.69531f, 96.03516f, 156.03516f, 166.03516f, 89.0625f, 155.6875f, 164.8125f, 91.58594f, 154.58594f, 163.58594f, 84.24609f, 147.2461f, 156.2461f, 88.40234f, 147.40234f, 155.40234f, 88.94531f, 147.94531f, 155.94531f, 92.671875f, 150.92188f, 162.5664f, 93.14453f, 151.14453f, 162.14453f, 102.52344f, 157.64844f, 169.27344f, 86.77344f, 143.77344f, 154.77344f, 90.64844f, 148.64844f, 159.64844f, 99.02344f, 151.21094f, 164.11719f, 90.15625f, 144.15625f, 154.15625f, 93.17969f, 150.17969f, 161.17969f, 92.1875f, 150.0625f, 160.8125f, 92.984375f, 148.91797f, 160.29297f, 89.42578f, 143.42578f, 154.67578f, 85.58594f, 142.58594f, 151.83594f, 86.16797f, 138.35547f, 151.26172f, 91.390625f, 143.39062f, 156.39062f,};
        float[] featValues = new float[featSize*featSize*512];
        int[] imgValues = new int[inputSize*inputSize];

        Log.d(TAG, inputValues.length + ", ");

        encoderInterface.feed(INPUT_NODE, inputValues,
                1, inputSize, inputSize, 3);
        encoderInterface.run(new String[] {OUTPUT_NODE}, false);
        encoderInterface.fetch(OUTPUT_NODE, featValues);

        String msg = "";
        for (int i=0; i < featValues.length; i++)
        {
            msg = msg + featValues[i] + " ,";
        }
        Log.d(TAG, msg);

        decoderInterface.feed("input_c", featValues,
                1, featSize, featSize, 512);
        decoderInterface.feed("input_s", featValues,
                1, featSize, featSize, 512);
        decoderInterface.run(new String[] {"output/mul"}, false);
        decoderInterface.fetch("output/mul", inputValues);

        msg = "";
        for (int i=0; i < inputValues.length; i++)
        {
            msg = msg + inputValues[i] + " ,";
        }
        Log.d(TAG, msg);
        Log.d(TAG, "" + inputValues.length + ", " + imgValues.length);

        for (int i = 0; i < imgValues.length; ++i) {
            imgValues[i] =
                    0xFF000000
                            | (((int) (inputValues[i * 3])) << 16)
                            | (((int) (inputValues[i * 3 + 1])) << 8)
                            | ((int) (inputValues[i * 3 + 2]));
        }
        Log.d(TAG, "imgValues feeding is done " + bitmap.getHeight() + ", " + bitmap.getWidth());
        bitmap.setPixels(imgValues, 0, inputSize, 0, 0, inputSize, inputSize);
        Log.d(TAG, "Bitmap setting is done ");

    }

    public void setSize(int desiredSize) {
        //Todo: desiredSize가 기존 value와 다를 때만 array를 새로 생성
        floatValues = new float[desiredSize * desiredSize * 3];
        intValues = new int[desiredSize * desiredSize];
    }

    private void getFloatValues(final Bitmap bitmap) {
        bitmap.getPixels(intValues, 0, bitmap.getWidth(), 0, 0, bitmap.getWidth(), bitmap.getHeight());

        for (int i = 0; i < intValues.length; ++i) {
            final int val = intValues[i];
            floatValues[i * 3] = ((val >> 16) & 0xFF) / 1.0f;
            floatValues[i * 3 + 1] = ((val >> 8) & 0xFF) / 1.0f;
            floatValues[i * 3 + 2] = (val & 0xFF) / 1.0f;
        }
    }

    private void getFeatures(final Bitmap bitmap, float featureValues[]) {
        encoderInterface.feed(INPUT_NODE, floatValues,
                1, bitmap.getWidth(), bitmap.getHeight(), 3);
        encoderInterface.run(new String[] {OUTPUT_NODE}, false);
        encoderInterface.fetch(OUTPUT_NODE, featureValues);
    }

    public void run(final Bitmap contentBitmap, final Bitmap styleBitmap) {
        Log.d(TAG, "style running");

        float[] contentFeatureValues = new float[contentBitmap.getWidth()/8 * contentBitmap.getHeight()/8 * 512];
        float[] styleFeatureValues = new float[contentBitmap.getWidth()/8 * contentBitmap.getHeight()/8 * 512];
        float[] stylized_img = new float[contentBitmap.getWidth() * contentBitmap.getHeight() * 3];

        // 1. Get contentFeatureValues
        getFloatValues(contentBitmap);
        getFeatures(contentBitmap, contentFeatureValues);

        // 2. Get styleFeatureValues
        getFloatValues(styleBitmap);
        getFeatures(styleBitmap, styleFeatureValues);
        Log.d(TAG, "encoder running is done");

        Log.d(TAG, "content size: " + contentBitmap.getWidth() + ", " + contentBitmap.getHeight() + ", " + contentFeatureValues.length);
        Log.d(TAG, "style size: " + styleBitmap.getWidth() + ", " + styleBitmap.getHeight() + ", " + styleFeatureValues.length);

        decoderInterface.feed("input_c", contentFeatureValues,
                1, contentBitmap.getWidth()/8, contentBitmap.getHeight()/8, 512);
        decoderInterface.feed("input_s", styleFeatureValues,
                1, styleBitmap.getWidth()/8, styleBitmap.getHeight()/8, 512);
        decoderInterface.run(new String[] {"output/mul"}, false);
        Log.d(TAG, "style size: " + stylized_img.length);
        Log.d(TAG, "decoder running.......");
        decoderInterface.fetch("output/mul", stylized_img);
        Log.d(TAG, "decoder running is done");

        for (int i = 0; i < intValues.length; ++i) {
            intValues[i] =
                    0xFF000000
                            | (((int) (stylized_img[i * 3])) << 16)
                            | (((int) (stylized_img[i * 3 + 1])) << 8)
                            | ((int) (stylized_img[i * 3 + 2]));
        }
        contentBitmap.setPixels(intValues, 0, contentBitmap.getWidth(), 0, 0, contentBitmap.getWidth(), contentBitmap.getHeight());
        Log.d(TAG, "set bitmap");

    }

}

